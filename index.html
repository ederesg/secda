<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Necessidades de Compra de Material - 2025</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Registro de Necessidades de Compra - 2025</h1>

        <form id="material-form">
            <!-- Formulário de solicitação de materiais -->
            <!-- (O código do formulário permanece o mesmo) -->
        </form>

        <!-- Link para a página de relatórios -->
        <div class="relatorios-link">
            <a href="relatorios.html">Ver Relatórios de Solicitações</a>
        </div>
    </div>

    <script>
        if (!sessionStorage.getItem("isLoggedIn")) {
            window.location.href = "login.html";
        }

        document.getElementById("material-form").addEventListener("submit", function(event) {
            event.preventDefault();

            const dadosFormulario = {
                nome: document.getElementById("nome").value,
                setor: document.getElementById("setor").value,
                tipo: document.getElementById("tipo").value,
                descricao: document.getElementById("descricao").value,
                quantidade: document.getElementById("quantidade").value,
                prioridade: document.getElementById("prioridade").value,
                justificativa: document.getElementById("justificativa").value
            };

            let registros = JSON.parse(localStorage.getItem("solicitacoes")) || [];
            registros.push(dadosFormulario);
            localStorage.setItem("solicitacoes", JSON.stringify(registros));

            alert("Solicitação enviada com sucesso!");
        });
    </script>
</body>
</html>
